/* eslint-disable prettier/prettier */

import hardhat from "hardhat"
const proof = "0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000003400000000000000000000000000000000000000000000000000000000000000000c51f1f2f3c5c2b0319c1e2732e5ab10d79b0084f8a33322a7a43188f4e4068982a34ce1cebd426e17aa8e9ae10b135ef29f7eabb5435f65ff46d1724b907fc24000000000000000000000000000000000000000000000000000000000000302300000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000227f90224a0ef78c4de58e03cff1173bb2f18e11da6ad1683d0473f3259fffb457769f10ef1a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d4934794a4b000000000000000000073657175656e636572a08809ba979cdeacad684901b8cec6df53792aa24aa8b715d28d8fae490a798bcca011a52c4debf8eef8ad4aa2fe749fd7c394cb5398b2c3315d339dde3b09a7c373a0aaa709602e0d328533f490628e6d62ce3c3fb3c8f12007782f3b3361bbdddf0cb9010020800204028010020020000006080889880a009000000020018005900081404800000020048231000080a0000800000b00d002310421000000000000020180800c000244824400201081000801000358000000ac100288000800a520300000208008000888000012040248422c10a0009008428002001820300240000120060020420400000142008810103a141002c0003260020b94008200401040001210048040488800a02000078020000014000210048300000b00811008008003000400801004000030202080001058001000018002d900008024480010000000146064400400a0011108022d4240080a6c000400010080c058100101c800000100001001840352e7e28704000000000000831a8c74846559152aa0c51f1f2f3c5c2b0319c1e2732e5ab10d79b0084f8a33322a7a43188f4e406898a0000000000000afa70000000000999b7f000000000000000a00000000000000008800000000000caa208405f5e1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000ce0000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000540000000000000000000000000000000000000000000000000000000000000078000000000000000000000000000000000000000000000000000000000000009c00000000000000000000000000000000000000000000000000000000000000be00000000000000000000000000000000000000000000000000000000000000214f90211a0d95f72e1567ee5bd03c3da14d465f443ca0df90e1894ba7b1106a012fee5c28aa010d0fd303f0987183f732d8eb29e9c83b48de8ffb28457f321b8ba23e07a22bba0879b53d01c17440c2ae1c34071432e8555fee7fd36d1622f1af465899a4cf668a0ef22fa86a8a89a9c0f0689a0941876c347605b41a5c5a57b4ff286c2ccc0b98ca01f2a43799352dbc3017f6c2905fe2079f12054597d84e1c60eaf51dcbf6df4eba03d2a72f10d54671e3bce0e40aaf38aa2366c125dd6e293ec61cbaaa4d01ea569a09c07af8b9824a12c7cba0a440c9183f128d53132c8fe69a7ace20ad6da228e4aa02699c725fa9d607e830041b2e38c828b6c2c8c996e79a735a3b5fdd2d4e94269a005e4a7a9232594eaca23880b4cd45ead49d84188195593ded3559219df205505a09b0edff3448a4fe4302a84f325a6e343f67ae1725d4315b858c0f1207e6f3ad8a045fabf29bfee453b3f7ea218fef3d164efce0695c35e571af803141b79df6e6da04fb0a2f66b9336be474a9c1db1a0302b27eb0a99734fcada884040daac24c656a0346048b188562cc55f6f7361e4d3165100c7fc70c1dffe08de659610b4de077ea00019ccb81789f725a80a9934792218725518adeb8dc0a643b696032c4f5338d3a0e773b5784434f9bc262aa8c212e86d1d1976d7bc4abde20dac3a9b4a5c69380da0f53b525af396f109b23be65c075c325409f7078ce771183b24e3f5616e00b360800000000000000000000000000000000000000000000000000000000000000000000000000000000000000214f90211a01c9322bb2eb3711ea632c8e36bae8a49e11db224873ac60e74a0e4588972515da0160fdcba0e31dec13c5913f2e484bf70afabaa514fa41a28c15599920add2a86a0e1c5d1a28b12b82614050177f821f2c7e1bdee5aaec3c4dbf8b8e6a3d98134e1a09d746dfe0f0208ebbba914d069c6079a2a59baf5d27c3d7da76f2bb28b5d6875a0131292a2dceaed3dfc1799b44add1f41dad221fb3c41d4179dd8065f93c05a25a0a3576a7a52552bff196b1a658fbd56e00d982d03b2532e07b49e8204900d1f1ba0f0319df37ea8ca8909aa47acf5ad13937d6639c911a500aca1244172cfc0cf10a0fdec9ed88db5d937441503a11b5e7731f226e7a202a1a683000328b8a30cbef4a0961b2bb7ae74f16ef913849a71118d9ba9f9067e64e6df80fb33c5cb9aac17f2a0e9f963c59de750f5821d5bafc2ff13d5bac89fab85d36fb8a8335b4fcf11e078a057d35552c73bd079367cb074606225efbcaae282b7398dbdacd2688ebe65fe8ca00d82a7c9ecfef6649326b6f8aac40179abfa0ac8c27062473c4a8d2cdb438524a0123e851cd784cb69c42ddf5e7a2d965177140ae8c82997783b57809bcb56f77fa091bdc74941adb6a581999af7628ae23201ad7c5bd929419f7f76f0dd4ac0dcdba0779948b81396e9c2b2759fcee09c50fd01b85bbae6002de4a89289820651b618a0d1feeae0b6248f7f2e3a51b465cb53addbfc97784e523651b3aacdf4ac3ca0f7800000000000000000000000000000000000000000000000000000000000000000000000000000000000000214f90211a0b2fbcf2edff8a96dd14ceaad33638dc75a25dc076af91a1560fc241699a56ea6a0821e8e45276ab853177b4c00b4b41fa95358fb4a5880a082aaf632ff0c06a907a0f07a87b04bb103488c200fe4e5c2a2bb3f176a1aa6d0459cf1ed303f5dd2c464a05d5bc7b1ed313b0cc4d43ea44eb6b7d16f87f080eaa144e0c1c38dfc5bcbaaeca06178960d0f2a3bb1098f3dc6d7692cbc2ab6df7d1f7561d7d0e84ee60b3b7a84a0115c2e6f26ede6328aafea7885214220412e9ace12b85590c6fc0af40593ea6ba02fd974e21f9edfa5f6b5610c52eb5320f589ba7c68f662ccab1883efa9a49eeda0f972cc730e243b58a6cf9b6ecf1a17ccad418dfc8873a6f146720c20f8c0c233a0482a61180cac068809c41f985fced929248ff903693d7fd7774a59ba0216a048a03540454e951734746c02def599ab9b3bdd171de847418360024aad06b47fbb0aa03e2a114070d1c2e40509a607f397a19cbe10cafbdde1b268ca0b9a2e9a6a06a2a09895fbc227c026df0294c8c40d3ace544d9941871e9056e8f5848719eea2d120a08a3a903a918394e636f7f455386aed65c871447069199bc2f3379e86848dc280a0586775d96ff6b6e4143cea775b68f2f8eaf732c742ab032d794a5e863ed519f4a076fe3a3e1d661b2fb8c6fdd5f166829a529e67bd95b619dca5df3286dab9b234a00e618170c166e68fab3a858bd2a14276d035721b6d7e961ee7fd7ff6a0c6f73c800000000000000000000000000000000000000000000000000000000000000000000000000000000000000214f90211a015cedad3ea2a5d2524f3cb62688bbd2b7d03b4ee15fe4f4c2220643bc8368886a0daf95ecd78efe9d1d66f3f1f7877406a9708c585bda8533dbaa8af14c214e3dba04d30ab4cf85c60479ac75679c9c3a1af51233d082cb8c112e53acbc1b32c4d21a02a4b0ec28bbf0c94b4094d871b5ce109258108e719da12784b58f2dafcc0cc2da09cc81c0c49f1e97836043841f66d995b3ec8eb0991ec4d13c3e8e7a6de2d5280a05298b0ed3effa08061f8d787bed5dbcd322a7ffb96febed87eeecc99eadbb149a0dc7808f73b0a60910182206616646ca1cec8859008ea83fc1c0ae9e21c4d8934a0c9dd7f0c9f521215c3671efcee4a1a715009cc02315248751fa69e9a426b2817a073550200a586f014d673aa7a169a730ca388f735a1b2ffbc5982a159f5ede39ea0c55d268773253712d4f0e95c1046f5a1f296279ad9ae6ec917791887f10bb5d9a05e382eabc149b521938225736bc08efff05c4e378050e4dd4ed8efd6c971aa67a025400f8f7e4ef6aac40cbe0dc07041caee0eee3f66eb316f0741ca4c2b0e7714a00c6c6aa5aab3980ddcd91eef2c69308279499dae59bdf0b71b09f93b97252c59a041e545ab62d4462f46be9b9f7d2a978804d9c6bcc5475353096bc3aeabb0ffd4a087403516ecbedb6ad6365a681f00eb58fdbbfc5a2d64c9697760ac650a09224ba0dde62d73fe4ff6b423eea6bda3b71e733f174fb22d39c8228549ebcbf1cf18688000000000000000000000000000000000000000000000000000000000000000000000000000000000000001f4f901f1a010fcc45e1be5615b25b701487069cfa0b169b860d95c1ffaf0eeb551a8afe1e7a02baad1b9232dde637ae60c9fe06335c875de47fda09301be8012fbc4d6706a79a02e213bf6d8c9b6d175231002b6700f25ef7728b26729c725c15e9b9958562f30a0b018c33a4937d5c35280a66fd51cf939fdcbd1f61f8ee4438fa7b8abb42c0a95a07a6db750ac23dbca4982bf652769542e51d2afc0c081e0af788617af460dadcaa03f9b829c29dd335a8d8d07b516dc889f45ae39978d48d44c3155e6aa3fd8adafa0eb60743c932cd2945ba5d4d4e1121b26907c6792fa1f9916efe9b79d57b1f872a0f6e4aa7da476502fd1e47faef0409648f48aba6189a9158ac924a35a173c3b62a091a0b781627d66f39932ea0d6d56f6cc1f56961e849ecfa2a8d657d58c5f2bf5a0f78cc4c4b4f677d602e9a5de9634e2b27f3dae1811dc3c47f939663c5b3c6be5a0e9737f9b263462ccfd2b33d0a8f203d1e21f8a40dacfc15973fa2729e22fdd23a08da62ccfeb14147168e4183d11eb36b837705f55a8371f29eb86067b6a0b05d3a023d1d37c01ef868443b54b9a14cb0536b83a3c0fbb8dae188dfcc52b28947869a02d9f374dda2b91889938273be7c216d0ab28ec687553ac4e35ca9d577b7d17c580a06b83adefcc06d8a20608b47e4680878daae1b50fd1db552862f847a0ed587e99800000000000000000000000000000000000000000000000000000000000000000000000000000000000000069f8679e3245dd7ef6904143a2e2afe327e466d8c05c651a2e33fe746d8fbac6ad95b846f8440180a05eed55cf975e2e2257fe8527e028679782c5b34dddeb0b644227d786fd79b0aca0ed4dac3a97cd55d7d89bb750f0b138f949787bafb76f9a2902e57f29742b4fb8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000f3f8f180a06b106f66e8e3522f3d9f4b72b56d2303f9a03ba0e96ee652545da63afc38f10ba0a6da6302e11f3d5045774729a336b7f05221779cd6ef9c7e74ee7e5906c51c9280808080a0d23f9adb4bcb42ab7f8bf9ead851ea7a9d0c16a0efc5a3b94474222d69c3248880a08d23f83c8ee2118facd295df2cf546b3b6d5b4561a77373c312f095e928f457880a0634c9f1a3d2fb9b7e7ce3d0155401f6daa67535acb12ded6834a2ffef6ab106580a0728df5a626df9c9a2eeace98dcea304405f92841252bee0eb66b74422687f1f580a0b954e5d774806d3a050295a2451ca8b6611e5d31fbc482433dacfe0e1d2f3d2580000000000000000000000000000000000000000000000000000000000000000000000000000000000000000053f851808080808080808080a05562d4c69fcaf7778df616351f2996b02b6b9b11df787de5f96da97af2968a738080a0fe7d9a8a67908cb0be5a316771b51572303e2ce6d98418c7ee5aa3ed7cbbefb080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000023e2a0200decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5632a0000000000000000000000000000000000000000000000000000000000"



describe("Arbi Verifier", () => {

    it.only("test", async () => {
        /**
         * Prepate mock inbox
         */
        const outboxF = await hardhat.ethers.getContractFactory("MockOutbox")
        const mockOutbox = await outboxF.deploy()



        await mockOutbox.pushRoot(
            "0x47ee108ea84e6f85c2749e942ee3d5d6a2cc5ef81f3b5c651c0f3c1b472bd645",
            "0x913ac55af774e541d9c787428951598010fc41cacf2b9e97a924c7eff7d10fc5",
        )

        /**
         * Deploy verifier
         */

        const f = await hardhat.ethers.getContractFactory("ArbVerifier")
        const arbiVerfifier = await f.deploy(await mockOutbox.getAddress(), ["d"])

        /**
         * Deploy MockTestL1
         */

        const testL2OnArbi = "0x2161d46ad2b7dd9c9f58b8be0609198899fb431d"

        const fMockTest = await hardhat.ethers.getContractFactory("MockTestL1")
        const mockTestL1 = await fMockTest.deploy(await arbiVerfifier.getAddress(), testL2OnArbi)

        const req = await mockTestL1.getLatest()

        const [, , commands, , constants] = req


        const res = await arbiVerfifier.getStorageValues(testL2OnArbi, [...commands], [...constants], proof)
        console.log(res)
    })
})